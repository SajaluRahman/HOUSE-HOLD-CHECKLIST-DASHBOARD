{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sajal/OneDrive/Desktop/dashboard-with-next-js/api/const.tsx"],"sourcesContent":["\r\n\r\nexport const baseUrl = \"http://localhost:5000/api/v1\"\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,UAAU"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sajal/OneDrive/Desktop/dashboard-with-next-js/store/useAdminStore.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { create } from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\nimport { toast } from \"sonner\";\r\nimport { baseUrl } from \"@/api/const\";\r\n\r\nexport type AdminType = {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: string;\r\n  image?: string;\r\n  createdAt?: string;\r\n  updatedAt?: string;\r\n};\r\n\r\ntype AdminState = {\r\n  admin: AdminType | null;\r\n  isAuth: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n  admins: AdminType[];\r\n  totalAdmins: number;\r\n  currentPage: number;\r\n  totalPages: number;\r\n};\r\n\r\ntype AdminActions = {\r\n  login: (credentials: { email: string; password: string }) => Promise<boolean>;\r\n  logout: () => Promise<void>;\r\n  checkAuth: () => Promise<boolean>;\r\n  initAuth: () => void; // New: Auto-check on app start\r\n  fetchAdmins: (page?: number, limit?: number, search?: string) => Promise<void>;\r\n  addAdmin: (data: { name: string; email: string; password: string; image?: string }) => Promise<boolean>;\r\n  forgotPassword: (email: string) => Promise<boolean>;\r\n  resetPassword: (token: string, password: string) => Promise<boolean>;\r\n  fetchDashboardStatus: () => Promise<any>;\r\n  clearError: () => void;\r\n};\r\n\r\nexport const useAdminStore = create<AdminState & AdminActions>()(\r\n  persist(\r\n    (set, get) => {\r\n      // Helper: Get auth headers\r\n      const getAuthHeaders = () => {\r\n        const token = localStorage.getItem(\"adminToken\");\r\n        return {\r\n          \"Content-Type\": \"application/json\",\r\n          ...(token && { Authorization: `Bearer ${token}` }),\r\n        };\r\n      };\r\n\r\n      // Helper: Handle API errors\r\n      const handleApiError = (err: Response | any, action: string) => {\r\n        if (err.status === 401) {\r\n          get().logout(); // Auto-logout on unauthorized\r\n          return;\r\n        }\r\n        const message = err.message || err.data?.message || \"Something went wrong\";\r\n        toast.error(`${action} failed: ${message}`);\r\n        set({ error: message });\r\n      };\r\n\r\n      return {\r\n        admin: null,\r\n        isAuth: false,\r\n        loading: false,\r\n        error: null,\r\n        admins: [],\r\n        totalAdmins: 0,\r\n        currentPage: 1,\r\n        totalPages: 0,\r\n\r\n        clearError: () => set({ error: null }),\r\n\r\n        // ================= INIT AUTH =================\r\n        initAuth: () => {\r\n          get().checkAuth(); // Call this in your app root (e.g., _app.tsx)\r\n        },\r\n\r\n        // ================= LOGIN =================\r\n        login: async (credentials) => {\r\n          console.log(\"âš¡ LOGIN ATTEMPT STARTED\", credentials);\r\n          set({ loading: true, error: null });\r\n\r\n          try {\r\n            const res = await fetch(`${baseUrl}/admin/admin-login`, {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              credentials: \"include\", // Keep for cookies if needed\r\n              body: JSON.stringify(credentials),\r\n            });\r\n\r\n            const data = await res.json();\r\n            console.log(\"ðŸ“¥ Login response:\", data);\r\n\r\n            if (!res.ok) {\r\n              handleApiError(data, \"Login\");\r\n              set({ loading: false });\r\n              return false;\r\n            }\r\n\r\n            // FIXED: Store JWT from response (assume backend sends it)\r\n            if (data.token) {\r\n              localStorage.setItem(\"adminToken\", data.token);\r\n            }\r\n\r\n            set({\r\n              isAuth: true,\r\n              admin: data.admin || null,\r\n              error: null,\r\n              loading: false,\r\n            });\r\n\r\n            toast.success(\"Login successful\");\r\n            return true;\r\n          } catch (err: any) {\r\n            console.error(\"ðŸ”¥ LOGIN NETWORK ERROR:\", err);\r\n            handleApiError(err, \"Login\");\r\n            set({ loading: false });\r\n            return false;\r\n          }\r\n        },\r\n\r\n        // ================= CHECK AUTH =================\r\n        checkAuth: async () => {\r\n          const token = localStorage.getItem(\"adminToken\");\r\n          if (!token) {\r\n            set({ isAuth: false, admin: null });\r\n            return false;\r\n          }\r\n\r\n          try {\r\n            const res = await fetch(`${baseUrl}/dashboard-status`, { // FIXED: Typo \"dashbord\" â†’ \"dashboard\"\r\n              method: \"GET\",\r\n              headers: getAuthHeaders(),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n              localStorage.removeItem(\"adminToken\");\r\n              set({ isAuth: false, admin: null });\r\n              handleApiError(data, \"Auth check\");\r\n              return false;\r\n            }\r\n\r\n            set({ isAuth: true, admin: data.admin || null });\r\n            return true;\r\n          } catch (err: any) {\r\n            console.error(\"ðŸ”¥ CHECK AUTH ERROR:\", err);\r\n            localStorage.removeItem(\"adminToken\");\r\n            set({ isAuth: false, admin: null });\r\n            return false;\r\n          }\r\n        },\r\n\r\n        // ================= LOGOUT =================\r\n        logout: async () => {\r\n          set({ loading: true });\r\n          try {\r\n            localStorage.removeItem(\"adminToken\");\r\n            set({ isAuth: false, admin: null, admins: [] });\r\n            toast.success(\"Logged out successfully\");\r\n          } catch (err) {\r\n            console.error(\"ðŸ”¥ LOGOUT ERROR:\", err);\r\n            toast.error(\"Logout failed\");\r\n          } finally {\r\n            set({ loading: false });\r\n          }\r\n        },\r\n\r\n        // ================= FETCH ADMINS =================\r\n        fetchAdmins: async (page = 1, limit = 10, search = \"\") => {\r\n          set({ loading: true, error: null });\r\n          const token = localStorage.getItem(\"adminToken\");\r\n          if (!token) {\r\n            set({ isAuth: false });\r\n            return;\r\n          }\r\n\r\n          try {\r\n            let url = `${baseUrl}/getalladmins?page=${page}&limit=${limit}`;\r\n            if (search) url += `&search=${encodeURIComponent(search)}`;\r\n\r\n            const res = await fetch(url, {\r\n              headers: getAuthHeaders(),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok || !data.success) {\r\n              throw new Error(data.message || \"Failed to fetch admins\");\r\n            }\r\n\r\n            set({\r\n              admins: data.admins,\r\n              totalAdmins: data.total,\r\n              currentPage: data.currentPage,\r\n              totalPages: data.totalPages,\r\n            });\r\n          } catch (err: any) {\r\n            handleApiError(err, \"Fetch admins\");\r\n          } finally {\r\n            set({ loading: false });\r\n          }\r\n        },\r\n\r\n        // ================= ADD ADMIN =================\r\n        addAdmin: async (data) => {\r\n          set({ loading: true, error: null });\r\n          const token = localStorage.getItem(\"adminToken\");\r\n          if (!token) {\r\n            set({ isAuth: false });\r\n            return false;\r\n          }\r\n\r\n          // Optional: Client-side validation\r\n          if (!data.email.includes(\"@\")) {\r\n            toast.error(\"Invalid email format\");\r\n            set({ loading: false });\r\n            return false;\r\n          }\r\n\r\n          try {\r\n            const res = await fetch(`${baseUrl}/addAdmin`, {\r\n              method: \"POST\",\r\n              headers: getAuthHeaders(),\r\n              body: JSON.stringify(data),\r\n            });\r\n\r\n            const result = await res.json();\r\n\r\n            if (!res.ok || !result.success) {\r\n              handleApiError(result, \"Add admin\");\r\n              return false;\r\n            }\r\n\r\n            toast.success(\"Admin added successfully\");\r\n            get().fetchAdmins(); // Refresh list\r\n            return true;\r\n          } catch (err: any) {\r\n            handleApiError(err, \"Add admin\");\r\n            return false;\r\n          } finally {\r\n            set({ loading: false });\r\n          }\r\n        },\r\n\r\n        // ================= DASHBOARD =================\r\n        fetchDashboardStatus: async () => {\r\n          const token = localStorage.getItem(\"adminToken\");\r\n          if (!token) {\r\n            set({ isAuth: false });\r\n            return null;\r\n          }\r\n\r\n          try {\r\n            const res = await fetch(`${baseUrl}/dashboard-status`, { // FIXED: Typo\r\n              headers: getAuthHeaders(),\r\n            });\r\n\r\n            if (!res.ok) throw new Error(\"Unauthorized\");\r\n\r\n            return await res.json();\r\n          } catch (err: any) {\r\n            handleApiError(err, \"Dashboard fetch\");\r\n            return null;\r\n          }\r\n        },\r\n\r\n        // ================= FORGOT & RESET =================\r\n        forgotPassword: async (email) => {\r\n          set({ loading: true, error: null });\r\n          try {\r\n            const res = await fetch(`${baseUrl}/forgot-password`, {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({ email }),\r\n            });\r\n            const data = await res.json();\r\n            if (!res.ok) {\r\n              handleApiError(data, \"Forgot password\");\r\n              return false;\r\n            }\r\n            toast.success(\"Reset link sent to email\");\r\n            return true;\r\n          } catch (err: any) {\r\n            handleApiError(err, \"Forgot password\");\r\n            return false;\r\n          } finally {\r\n            set({ loading: false });\r\n          }\r\n        },\r\n\r\n        resetPassword: async (token, password) => {\r\n          set({ loading: true, error: null });\r\n          try {\r\n            const res = await fetch(`${baseUrl}/reset-password/${token}`, {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({ password }),\r\n            });\r\n            const data = await res.json();\r\n            if (!res.ok) {\r\n              handleApiError(data, \"Reset password\");\r\n              return false;\r\n            }\r\n            toast.success(\"Password reset successful\");\r\n            return true;\r\n          } catch (err: any) {\r\n            handleApiError(err, \"Reset password\");\r\n            return false;\r\n          } finally {\r\n            set({ loading: false });\r\n          }\r\n        },\r\n      };\r\n    },\r\n    {\r\n      name: \"admin-auth-storage\",\r\n      partialize: (state) => ({ isAuth: state.isAuth, admin: state.admin ? { ...state.admin, password: undefined } : null }), // Optional: Persist basic admin info\r\n    }\r\n  )\r\n);"],"names":[],"mappings":"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"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sajal/OneDrive/Desktop/dashboard-with-next-js/app/%28auth%29/login/page.tsx"],"sourcesContent":["// app/login/page.tsx\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Eye, EyeOff } from \"lucide-react\";\r\nimport { useAdminStore } from \"@/store/useAdminStore\"; // <== your Zustand store path\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n\r\n  const login = useAdminStore((state) => state.login);\r\n  const loadingGlobal = useAdminStore((state) => state.loading);\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [localLoading, setLocalLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    setLocalLoading(true);\r\n\r\n    const success = await login({ email, password });\r\n\r\n    setLocalLoading(false);\r\n\r\n    if (success) {\r\n      router.push(\"/\"); // Redirect after successful login\r\n    }\r\n  };\r\n\r\n  const loading = localLoading || loadingGlobal;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-[#1D3C8F]/5 via-white to-[#17A2A2]/5 flex items-center justify-center\">\r\n        <div className=\"w-full max-w-md\">\r\n          {/* Logo / Title */}\r\n          <div className=\"text-center mb-10\">\r\n            <div className=\"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1D3C8F] to-[#17A2A2] text-white text-3xl font-bold shadow-xl mb-4\">\r\n              HA\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold text-[#1D3C8F]\">\r\n              Housekeeping Audit\r\n            </h1>\r\n            <p className=\"text-[#2E2E2E]/60 mt-2\">Sign in to access your audits</p>\r\n          </div>\r\n\r\n          {/* Login Card */}\r\n          <div className=\"bg-white rounded-2xl shadow-xl border border-[#D7DDE5] overflow-hidden\">\r\n            <div className=\"p-8\">\r\n              <h2 className=\"text-2xl font-bold text-[#2E2E2E] text-center mb-8\">\r\n                Welcome Back\r\n              </h2>\r\n\r\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                {/* Email Field */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-[#2E2E2E] mb-2\">\r\n                    Email Address\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required\r\n                    placeholder=\"you@hospital.com\"\r\n                    className=\"w-full px-5 py-4 border-2 border-[#D7DDE5] rounded-xl focus:border-[#17A2A2] focus:outline-none transition-colors text-lg\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Password Field */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-[#2E2E2E] mb-2\">\r\n                    Password\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      value={password}\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      required\r\n                      placeholder=\"Enter your password\"\r\n                      className=\"w-full px-5 py-4 pr-14 border-2 border-[#D7DDE5] rounded-xl focus:border-[#17A2A2] focus:outline-none transition-colors text-lg\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                      className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[#2E2E2E]/60 hover:text-[#17A2A2] transition-colors\"\r\n                      tabIndex={-1}\r\n                    >\r\n                      {showPassword ? (\r\n                        <EyeOff className=\"w-6 h-6\" />\r\n                      ) : (\r\n                        <Eye className=\"w-6 h-6\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Submit Button */}\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || !email || !password}\r\n                  className={`\r\n                    w-full py-4 rounded-xl font-bold text-white text-lg\r\n                    bg-gradient-to-r from-[#1D3C8F] to-[#17A2A2]\r\n                    hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200\r\n                    disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none\r\n                    flex items-center justify-center gap-3\r\n                  `}\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <svg\r\n                        className=\"animate-spin h-5 w-5\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <circle\r\n                          cx=\"12\"\r\n                          cy=\"12\"\r\n                          r=\"10\"\r\n                          stroke=\"currentColor\"\r\n                          strokeWidth=\"4\"\r\n                          fill=\"none\"\r\n                        />\r\n                        <path fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\" />\r\n                      </svg>\r\n                      Signing in...\r\n                    </>\r\n                  ) : (\r\n                    \"Sign In\"\r\n                  )}\r\n                </button>\r\n              </form>\r\n\r\n              {/* Footer Links */}\r\n              <div className=\"mt-8 text-center\">\r\n                <a href=\"#\" className=\"text-sm text-[#17A2A2] hover:underline\">\r\n                  Forgot your password?\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"h-2 bg-gradient-to-r from-[#1D3C8F] to-[#17A2A2]\" />\r\n          </div>\r\n\r\n          <p className=\"text-center text-sm text-[#2E2E2E]/50 mt-8\">\r\n            Â© 2025 Housekeeping Audit System â€¢ All rights reserved\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;AAGrB;AACA;AAAA;AACA,uNAAuD,8BAA8B;AACrF;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,QAAQ,IAAA,0IAAa;0CAAC,CAAC,QAAU,MAAM,KAAK;;IAClD,MAAM,gBAAgB,IAAA,0IAAa;kDAAC,CAAC,QAAU,MAAM,OAAO;;IAE5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,gBAAgB;QAEhB,MAAM,UAAU,MAAM,MAAM;YAAE;YAAO;QAAS;QAE9C,gBAAgB;QAEhB,IAAI,SAAS;YACX,OAAO,IAAI,CAAC,MAAM,kCAAkC;QACtD;IACF;IAEA,MAAM,UAAU,gBAAgB;IAEhC,qBACE;kBACE,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA2J;;;;;;0CAG1K,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAGlD,6LAAC;gCAAE,WAAU;0CAAyB;;;;;;;;;;;;kCAIxC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAqD;;;;;;kDAInE,6LAAC;wCAAK,UAAU;wCAAc,WAAU;;0DAEtC,6LAAC;;kEACC,6LAAC;wDAAM,WAAU;kEAAgD;;;;;;kEAGjE,6LAAC;wDACC,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wDACxC,QAAQ;wDACR,aAAY;wDACZ,WAAU;;;;;;;;;;;;0DAKd,6LAAC;;kEACC,6LAAC;wDAAM,WAAU;kEAAgD;;;;;;kEAGjE,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEACC,MAAM,eAAe,SAAS;gEAC9B,OAAO;gEACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gEAC3C,QAAQ;gEACR,aAAY;gEACZ,WAAU;;;;;;0EAEZ,6LAAC;gEACC,MAAK;gEACL,SAAS,IAAM,gBAAgB,CAAC;gEAChC,WAAU;gEACV,UAAU,CAAC;0EAEV,6BACC,6LAAC,uNAAM;oEAAC,WAAU;;;;;yFAElB,6LAAC,0MAAG;oEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0DAOvB,6LAAC;gDACC,MAAK;gDACL,UAAU,WAAW,CAAC,SAAS,CAAC;gDAChC,WAAW,CAAC;;;;;;kBAMZ,CAAC;0DAEA,wBACC;;sEACE,6LAAC;4DACC,WAAU;4DACV,SAAQ;;8EAER,6LAAC;oEACC,IAAG;oEACH,IAAG;oEACH,GAAE;oEACF,QAAO;oEACP,aAAY;oEACZ,MAAK;;;;;;8EAEP,6LAAC;oEAAK,MAAK;oEAAe,GAAE;;;;;;;;;;;;wDACxB;;mEAIR;;;;;;;;;;;;kDAMN,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAE,MAAK;4CAAI,WAAU;sDAAyC;;;;;;;;;;;;;;;;;0CAMnE,6LAAC;gCAAI,WAAU;;;;;;;;;;;;kCAGjB,6LAAC;wBAAE,WAAU;kCAA6C;;;;;;;;;;;;;;;;;;AAOpE;GApJwB;;QACP,kJAAS;QAEV,0IAAa;QACL,0IAAa;;;KAJb"}}]
}